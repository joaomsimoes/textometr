<template>
  <nav class="bd-navbar navbar has-shadow" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://textometr.ru">
          <img id="logo" src="/src/assets/logo.svg" />
          <span id="logo-text">–¢–µ–∫—Å—Ç–æ–º√©—Ç—Ä</span>
        </a>

        <a
          role="button"
          class="navbar-burger"
          :class="{ 'is-active': burgerActive }"
          aria-label="menu"
          aria-expanded="false"
          @click="burgerActive = !burgerActive"
        >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>
      <div class="navbar-menu" :class="{ 'is-active': burgerActive }">
        <div class="navbar-end">
          <router-link class="navbar-item" to="/">–ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞</router-link>
          <router-link class="navbar-item" to="/frequency-check"
            >–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∞—Å—Ç–æ—Ç–Ω–æ—Å—Ç–∏ —Å–ª–æ–≤</router-link
          >
          <a class="navbar-item" href="#contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
          <a class="navbar-item" href="https://www.facebook.com/textometr">–ú—ã –≤ Facebook</a>
          <div class="navbar-item">
            <span class="icon is-small is-clickable" @click="changeTheme">
              <moon-icon v-if="theme === 'light'" />
              <sun-icon v-if="theme === 'dark'" class="sun" />
            </span>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <router-view></router-view>

  <section class="section" id="contacts">
    <div class="container is-max-desktop">
      <h1 class="title is-1 is-spaced">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>
      <div class="content">
        <div class="box">
          <article class="media">
            <div class="columns">
              <div class="column is-narrow">
                <figure class="image is-128x128">
                  <img src="./assets/tonya.png" loading="lazy" />
                </figure>
              </div>
              <div class="column">
                <div class="content">
                  <p>
                    –ö—É—Ä–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî
                    <a
                      href="https://www.pushkin.institute/sveden/employees/detail.php?ELEMENT_ID=15425"
                      >–ê–Ω—Ç–æ–Ω–∏–Ω–∞ –õ–∞–ø–æ—à–∏–Ω–∞</a
                    >
                  </p>
                  <p>
                    –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫ –≤–æ–ø—Ä–æ—Å, –≤—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É –∏–ª–∏ —Å—á–∏—Ç–∞–µ—Ç–µ, —á—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∫–∞–∫–æ–π-—Ç–æ
                    —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ —Å –ø–æ–º–µ—Ç–∫–æ–π "–¢–µ–∫—Å—Ç–æ–º–µ—Ç—Ä". –ú—ã –æ—á–µ–Ω—å –ª—é–±–∏–º –∏
                    —Ü–µ–Ω–∏–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å!
                  </p>
                  <p>
                    <a href="mailto:antonina.laposhina@gmail.com">
                      <span class="icon-text">
                        <span class="icon is-small"><email-icon /></span>
                        <span class="ml-1">antonina.laposhina@gmail.com</span>
                      </span>
                    </a>
                    <br />
                    <a href="https://www.facebook.com/antonina.laposhina">
                      <span class="icon-text">
                        <span class="icon is-small"><facebook-icon /></span>
                        <span class="ml-1">antonina.laposhina</span>
                      </span>
                    </a>
                  </p>
                </div>
              </div>
            </div>
          </article>
        </div>
      </div>
    </div>
    <div class="container is-max-desktop has-text-centered mt-6">
      <a href="https://pay.cloudtips.ru/p/d53d30d0">
        <button class="button donate">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç üí∏</button>
      </a>
    </div>
  </section>

  <footer class="footer pb-6 has-background-white-ter">
    <div class="content has-text-centered">
      <a href="https://digitalpushkin.tilda.ws/events">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –ò–Ω—Å—Ç–∏—Ç—É—Ç–∞ –ü—É—à–∫–∏–Ω–∞</a>
    </div>
  </footer>
</template>

<script>
export default {
  data() {
    return {
      theme: 'light',
      burgerActive: false
    }
  },
  mounted() {
    if (localStorage.getItem('theme') === 'dark') {
      this.theme = 'dark'
      document.body.classList.add('dark-theme')
    }

    this.addSmoothScrollForAllAnchors()
  },
  methods: {
    changeTheme() {
      if (this.theme === 'light') {
        this.theme = 'dark'
      } else {
        this.theme = 'light'
      }
      localStorage.setItem('theme', this.theme)
      document.body.classList.toggle('dark-theme')
    },
    toggleShowAll() {
      this.showAll = !this.showAll
    },
    addSmoothScrollForAllAnchors() {
      // add smooth scroll for all anchors
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault()

          document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
          })
        })
      })
    }
  }
}
</script>

<style scoped>

</style>
